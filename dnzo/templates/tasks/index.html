{% extends "layouts/base.html" %}

{% load tasks_library %}

{% block page_title %}Dnzo: {{ task_list.name|escape }}{% if filter_title %} / {{ filter_title|escape }}{% endif %}{% endblock %}

{% block header %}
  {% if filter_title %}<a href="{% url tasks.views.tasks_index user.short_name,task_list.short_name %}">{% endif %}
  {{ task_list.name|escape }}{% if filter_title %}</a> / {{ filter_title|escape }}{% endif %}
{% endblock %}

{% block content %}
  <p id="return">
    &larr; Return to <a href="{% url tasks.views.lists_index user.short_name %}">my task lists</a>
  </p>
  
  <form action="." method="POST">
  <table cellspacing="0" cellpadding="0" id="tasks_list">
    <tr>
      <th><a href="#">&nbsp;&nbsp;âœ“</a></th>
      {% sorting_header "Project"     "project"    order direction %}
      {% sorting_header "Task"        "body"       order direction %}
      <th><a href="#">Context</a></th>
      {% sorting_header "Due"         "due_date"   order direction %}
      {% sorting_header "Created At"  "created_at" order direction %}
    </tr>
    {% for task in tasks %}
      {% include "tasks/task.html" %}
    {% endfor %}
  </table>
  </form>
  
  <p id="add_holder">
    <a href="{{ request_uri }}" id="add">+ Add task</a>
  </p>
{% endblock %}